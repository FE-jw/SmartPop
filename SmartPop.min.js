/**
 * Version: 1
 * Web: https://fe-jw.github.io/SmartPop
 * Github: https://github.com/FE-jw/SmartPop
 * Released: 2022-09-16
*/

NodeList.prototype.SmartPop=function(e){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var o={btns:this,popClose:void 0!==e?e.popClose:"btn-close",cssModeClass:void 0!==e?e.cssModeClass:""},t=function(){o.btns.forEach(function(e){function t(e){"a"===c&&e.preventDefault(),o.cssModeClass?a.classList.add(o.cssModeClass):a.style.display="block",a.style.outline="none",a.tabIndex=0,a.focus()}function s(){a.removeAttribute("tabindex"),o.cssModeClass?a.classList.remove(o.cssModeClass):a.style.display="none",a.style.outline="",e.focus()}var n=(e.hash||e.dataset.smartpop).replace("#",""),a=document.getElementById(n),c=e.tagName.toLowerCase(),d=o.popClose||"btn-close";a.querySelector("."+d).addEventListener("click",function(){s()}),a.addEventListener("keydown",function(e){27==e.keyCode&&s(),a.querySelector("."+d).addEventListener("keydown",function(e){9==e.keyCode&&(e.preventDefault(),a.focus())})}),e.addEventListener("click",function(e){t(e)})})};t()};