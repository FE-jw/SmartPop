/**
 * Version: 1.1.0
 * Web: https://fe-jw.github.io/SmartPop
 * Github: https://github.com/FE-jw/SmartPop
 * Released: 2022-12-02
*/
NodeList.prototype.SmartPop=function(e){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var o={btns:this,popClose:"btn-close",cssModeClass:""};e&&(o.popClose=void 0!==e.popClose?e.popClose:o.popClose,o.cssModeClass=void 0!==e.cssModeClass?e.cssModeClass:o.cssModeClass);var s=function(){o.btns.forEach(function(e){function s(e){"a"===c&&e.preventDefault(),o.cssModeClass?a.classList.add(o.cssModeClass):a.style.display="block",a.style.outline="none",a.tabIndex=0,a.focus()}function t(){a.removeAttribute("tabindex"),o.cssModeClass?a.classList.remove(o.cssModeClass):a.style.display="none",a.style.outline="",e.focus()}var n=(e.hash||e.dataset.smartpop).replace("#",""),a=document.getElementById(n),c=e.tagName.toLowerCase();"button"!=c&&"a"!=c&&(e.tabIndex=0,e.role="button",e.style.cursor="pointer",e.addEventListener("keydown",function(o){13==o.keyCode&&e.click()}));var d=o.popClose||"btn-close";a.querySelector("."+d).addEventListener("click",function(){t()}),a.addEventListener("keydown",function(e){27==e.keyCode&&t(),a.querySelector("."+d).addEventListener("keydown",function(e){9==e.keyCode&&(e.preventDefault(),a.focus())})}),e.addEventListener("click",function(e){s(e)})})};s()};